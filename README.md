# IDS706_Complex_SQL_Query_for_A_MySQL_Database

This repository is for the IDS706 course's assignment: IDS706_Complex_SQL_Query_for_A_MySQL_Database

![CI](https://github.com/therealzella/IDS706-python-github-template/actions/workflows/ci.yml/badge.svg)

# Complex SQL Query for MySQL Database

## Project Overview

This project demonstrates a complex SQL query executed on a MySQL database set up using Docker. The query involves joining multiple tables, aggregating data, and filtering the results based on a specific condition. A CI/CD pipeline is implemented using GitHub Actions to automate the setup and execution of the query.

## How It Works

- **SQL Query**: The query joins the `customers` and `orders` tables to calculate the total value of orders placed by each customer, filtering for orders made after January 1, 2023.
- **Docker**: The MySQL database is set up in a Docker container, and the query is executed inside the container.
- **CI/CD Pipeline**: The pipeline runs automatically on every push to the repository. It sets up the MySQL environment, executes the SQL query, and logs the output.

## Project Files

- `complex_query.sql`: Contains the SQL query that is executed on the MySQL database.
- `.github/workflows/ci.yml`: Defines the pipeline that automates the MySQL setup and query execution.

## Steps to Run the Project

1. **Clone the Repository**:
   ```bash
   git clone https://github.com/your-username/IDS706_Complex_SQL_Query_for_A_MySQL_Database.git

2. **Run the SQL Query**:
   Push your changes, and the CI/CD pipeline will automatically set up MySQL in Docker and execute the SQL query.

3. **Expected Output**:
   The output will display a table of customer order totals sorted in descending order, and the expected result of the query will be displayed in the GitHub Actions logs. For        example, the output will show a table listing customers and their total order values.

---

## Table of Contents
- [Project Overview](#project-overview)
- [Installation](#installation)
- [Usage](#usage)
- [Testing](#testing)
- [CI/CD Documentation](#cicd-documentation)
- [Makefile Commands](#makefile-commands)
- [Contributing](#contributing)
- [License](#license)

## Project Overview
This repository is a Python project template designed for the IDS706 course. It includes:
- A `main.py` file with the core functionality.
- A `main_test.py` file with unit tests for the project.
- A `Makefile` for automating common tasks like formatting, linting, and testing.
- A `.gitignore` file to keep unnecessary files out of your repository.
- A `requirements.txt` file to manage dependencies.
- A `test.db` file autogenerated by the main.py file

## Installation
To set up this project locally, follow these steps:

1. Clone the repository:
    ```sh
    git clone https://github.com/therealzella/IDS706_Python_Script_interacting_with_SQL_Database.git
    ```

2. Navigate to the project directory:
    ```sh
    cd IDS706_Python_Script_interacting_with_SQL_Database
    ```

3. Create a virtual environment (optional but recommended):
    ```sh
    python3 -m venv venv
    source venv/bin/activate  # On Windows use `venv\Scripts\activate`
    ```

4. Install the required packages:
    ```sh
    make install
    ```

## Usage
You can run the main script using:
```sh
python main.py
```

## Testing
To run tests to validate changes, use the following command:
```sh
make test
```

## CI/CD Documentation
This project utilizes GitHub Actions for continuous integration and deployment, ensuring that all code pushed to the main branch is automatically tested across multiple Python versions. The CI/CD process includes:

  - ### Continuous Integration and Deployment
  - **CI/CD Process**: This project uses GitHub Actions for continuous integration. Our CI pipeline automatically runs on every push or pull request to the `main` branch.
  - **Setup**: The workflow sets up the Python environment based on the matrix configuration.
  - **Dependency Installation**: Dependencies are installed using the requirements file.
  - **Linting**: Code is linted with flake8 to ensure it meets our coding standards.
  - **Testing**: Tests are executed using pytest to validate functionality.

    - Automated Testing: On every push or pull request to the main branch, the CI pipeline runs linting, testing,         and other checks defined in the ci.yml file.
        - Steps Included in the Workflow:
        - Setup of the specified Python environment using actions/setup-python@v3.
        - Installation of dependencies via make install.
        - Linting with flake8 to maintain code quality.
        - Running unit tests with pytest.



